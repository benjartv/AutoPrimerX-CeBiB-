<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:b="http://bootsfaces.net/ui">

<ui:composition template="/template.xhtml">
	<ui:define name="title">
		<h:outputText value="DiseÃ±o Primer's"></h:outputText>
	</ui:define>
	<ui:define name="body">
		<h:body>
			<b:container>
				<h3>Primer's design for Gibson assembly dna fragments</h3>

				<h:form>
					<h:panelGrid columns="6" cellpadding="4">
						<h:outputLabel for="tm" value="TM min:" style="width:150px" />
						<p:inputText id="tm" value="#{primerG2.TM}" style="width:150px"
							required="true" requiredMessage="Ingrese valor TM"></p:inputText>

						<h:outputLabel for="tmmax" value="TM max:" style="width:150px" />
						<p:inputText id="tmmax" value="#{primerG2.TMprimer}"
							style="width:150px" required="true"
							requiredMessage="Ingrese valor TM"></p:inputText>

						<h:outputLabel for="tmh" value="TM Homology:" style="width:150px" />
						<p:inputText id="tmh" value="#{primerG2.TMh}" style="width:150px"
							required="true" requiredMessage="Ingrese valor TM"></p:inputText>

						<h:outputLabel for="tolerance" value="Tolerance:"
							style="width:150px" />
						<p:inputText id="tolerance" value="#{primerG2.tolerance}"
							style="width:150px" required="true"
							requiredMessage="Ingrese valor tolerance"></p:inputText>

						<h:outputLabel for="sodio" value="Na concentration:"
							style="width:150px" />
						<p:inputText id="sodio" value="#{primerG2.sodio}"
							style="width:150px" required="true"
							requiredMessage="Ingrese valor sodio"></p:inputText>





					</h:panelGrid>
					<h:panelGrid columns="5" cellpadding="4">
						<h:outputLabel for="input1" value="Sequence name:"
							style="width:150px" />
						<p:inputText id="input1" value="#{primerG2.name}"
							style="width:150px" required="true"
							requiredMessage="Ingrese nombre de la secuencia"></p:inputText>

						<h:outputLabel for="input2" value="Sequence:" style="width:150px" />
						<p:inputTextarea id="input2" value="#{primerG2.sequence}"
							autoResize="false" rows="3" cols="35"
							onkeyup="javascript:this.value = this.value.toUpperCase();"
							style="width:150px" required="true"
							requiredMessage="Ingrese secuencia">
							<f:validator validatorId="custom.seqValidator" />
						</p:inputTextarea>


						<h:commandButton value="add" update="inputs"
							action="#{primerG2.add()}" />

					</h:panelGrid>
				</h:form>
				<h:form>
					<h:panelGrid cellpadding="2">

						<p:dataTable id="inputs" value="#{primerG2.inputs}" var="dato"
							resizableColumns="true" paginator="true" rows="5"
							style="margin-bottom:20px">
							<f:facet name="header">
                                Sequences
                            </f:facet>
							<p:column headerText="Sequence name" style="width: 200px;">
								<h:outputText value="#{dato.name}"
									style="float:left;overflow-y: auto;width: 100%;">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" />
								</h:outputText>
							</p:column>

							<p:column headerText="Sequence" >
								<h:outputText value="#{dato.sequence}"
									style="float:left;overflow-y: auto;width: 100%;">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" />
								</h:outputText>
							</p:column>

							<p:column headerText="Action" style="width: 100px;">
								<h:commandButton value="remove"
									action="#{primerG2.remove(dato)}" />
							</p:column>

						</p:dataTable>

					</h:panelGrid>
					<h:commandLink value="Download as xls">

						<p:dataExporter type="xls" target="inputs" fileName="Sequences"
							pageOnly="true" />
					</h:commandLink>
				</h:form>
				<h:form>


					<h:panelGrid columns="4" cellpadding="4">
						<p:outputLabel for="option" value="Assembly type:" />
						<p:selectOneButton id="option" value="#{primerG2.option}"
							required="true" requiredMessage="Ingrese option">
							<f:selectItem itemLabel="Lineal" itemValue="lineal" />
							<f:selectItem itemLabel="Circular" itemValue="circular" />
						</p:selectOneButton>

						<p:commandButton value="Assembly"
							update="tabla, tabla2, tabla3, :growl"
							action="#{primerG2.assembly}" />


					</h:panelGrid>

					<h:panelGrid cellpadding="2">
						<p:dataTable id="tabla" var="dato" resizableColumns="true"
							value="#{primerG2.primers_fwd}" paginator="true" rows="10"
							style="margin-bottom:20px">
							<f:facet name="header">
                                Fwd Sequence Primer's
                            </f:facet>
							<p:column headerText="Sequence name" style="width: 200px;">
								<h:outputText value="#{dato.nameSequence}" style="float:left;overflow-y: auto;width: 100%;">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" />
								</h:outputText>
							</p:column>

							<p:column headerText="Primer">
								<h:outputText value="#{dato.seq1}"
									style="float:left;overflow-y: auto;width: 100%;color:red;">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" />
								</h:outputText>
								<h:outputText value="#{dato.seq2}"
									style="float:left;overflow-y: auto;width: 100%;">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" />
								</h:outputText>
							</p:column>

							<p:column headerText="Length" style="width: 100px;">
								<h:outputText value="#{dato.largo}" style="float:left;overflow-y: auto;width: 100%;">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" />
								</h:outputText>
							</p:column>

							<p:column headerText="Tm" style="width: 100px;">
								<h:outputText value="#{dato.tm}" style="float:left;overflow-y: auto;width: 100%;">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" />
								</h:outputText>
							</p:column>

							<p:column headerText="%GC" style="width: 100px;">
								<h:outputText value="#{dato.gc}" style="float:left;overflow-y: auto;width: 100%;">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" />
								</h:outputText>
							</p:column>

							<p:column headerText="Tm adjust" style="width: 100px;">
								<h:outputText value="#{dato.tmAdjust}" style="float:left;overflow-y: auto;width: 100%;">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" />
								</h:outputText>
							</p:column>

							<p:column headerText="Molecular weight" style="width: 163px;">
								<h:outputText value="#{dato.molWeight}" style="float:left;overflow-y: auto;width: 100%;">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" />
								</h:outputText>
							</p:column>
						</p:dataTable>
						<h:commandLink value="Download as xls">

							<p:dataExporter type="xls" target="tabla" fileName="Primers_fwd"
								pageOnly="true" />
						</h:commandLink>
						<br />

						<p:dataTable id="tabla2" var="dato" resizableColumns="true"
							value="#{primerG2.primers_rev}" paginator="true" rows="10"
							style="margin-bottom:20px">
							<f:facet name="header">
                                Rev Sequence Primer's
                            </f:facet>
							<p:column headerText="Sequence name" style="width: 200px;">
								<h:outputText value="#{dato.nameSequence}" style="float:left;overflow-y: auto;width: 100%">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" />
								</h:outputText>
							</p:column>

							<p:column headerText="Primer"  >
								<h:outputText id="rvr" value="#{dato.seq1}"
									style="float:left;overflow-y: auto;width: 100%;">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" />
								</h:outputText>
                                                                <p:tooltip id="hom_rev_indicator" for="rvr" value="Reverse primer" trackMouse="true" />
								<h:outputText id= "rvr_ext" value="#{dato.seq2}"
									style="float:left;overflow-y: auto;width: 100%;color:red;">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" />
								</h:outputText>
                                                                <p:tooltip id="hom_reverse_ext_indicator" for="rvr_ext" value="Reverse extension primer" trackMouse="true" />
							</p:column>

							<p:column headerText="Length" style="width: 100px;" >
								<h:outputText value="#{dato.largo}" style="float:left;overflow-y: auto;width: 100%;">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" />
								</h:outputText>
							</p:column>

							<p:column headerText="Tm" style="width: 100px;" >
								<h:outputText value="#{dato.tm}" style="float:left;overflow-y: auto;width: 100%;">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" />
								</h:outputText>
							</p:column>

							<p:column headerText="%GC" style="width: 100px;">
								<h:outputText value="#{dato.gc}" style="float:left;overflow-y: auto;width: 100%;">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" />
								</h:outputText>
							</p:column>

							<p:column headerText="Tm adjust" style="width: 100px;">
								<h:outputText value="#{dato.tmAdjust}" style="float:left;overflow-y: auto;width: 100%;">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" />
								</h:outputText>
							</p:column>

							<p:column headerText="Molecular weight" style="width: 163px;">
								<h:outputText value="#{dato.molWeight}" style="float:left;overflow-y: auto;width: 100%;">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" />
								</h:outputText>
							</p:column>
						</p:dataTable>
						<h:commandLink value="Download as xls">

							<p:dataExporter type="xls" target="tabla2" fileName="Primers_rev"
								pageOnly="true" />
						</h:commandLink>
						<br />

						<p:dataTable id="tabla3" var="dato" resizableColumns="true"
							value="#{primerG2.homologys}" paginator="true" rows="10"
							style="margin-bottom:20px">
							<f:facet name="header">
                                Homology regions
                            </f:facet>
							<p:column headerText="Homology name" style="width: 200px;">
								<h:outputText value="#{dato.nameSequence}"
									style="float:left;overflow-y: auto;width: 100%;">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" />
								</h:outputText>
							</p:column>

							<p:column headerText="Homology" >
								<h:outputText id="hom_rev_ext"  value="#{dato.seq1}"
									style="float:left;overflow-y: auto;width: 100%;color:red;">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" />
								</h:outputText>
								<p:tooltip id="hom_rev_ext_indicator" for="hom_rev_ext" value="Reverse extension" trackMouse="true" />
								<h:outputText id="hom_fwd_ext" value="#{dato.seq2}"
									style="float:left;overflow-y: auto;width: 100%;">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" />
								</h:outputText>
                                                                <p:tooltip id="hom_fwd_ext_indicator" for="hom_fwd_ext" value="Forward extension" trackMouse="true" />
							</p:column>

							<p:column headerText="Length" style="width: 100px;">
								<h:outputText value="#{dato.largo}" style="float:left;overflow-y: auto;width: 100%;">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" />
								</h:outputText>
							</p:column>

							<p:column headerText="Tm" style="width: 100px;">
								<h:outputText value="#{dato.tm}" style="float:left;overflow-y: auto;width: 100%;">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" />
								</h:outputText>
							</p:column>

							<p:column headerText="%GC" style="width: 100px;">
								<h:outputText value="#{dato.gc}" style="float:left;overflow-y: auto;width: 100%;">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" />
								</h:outputText>
							</p:column>

							<p:column headerText="Tm adjust" style="width: 100px;">
								<h:outputText value="#{dato.tmAdjust}" style="float:left;overflow-y: auto;width: 100%;">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" />
								</h:outputText>
							</p:column>

							<p:column headerText="Molecular weight" style="width: 163px;">
								<h:outputText value="#{dato.molWeight}" style="float:left;overflow-y: auto;width: 100%;">
									<f:convertNumber groupingUsed="true" minFractionDigits="2" />
								</h:outputText>
							</p:column>
						</p:dataTable>
						<h:commandLink value="Download as xls">

							<p:dataExporter type="xls" target="tabla2"
								fileName="Homology_regions" pageOnly="true" />
						</h:commandLink>
						<br />

					</h:panelGrid>
				</h:form>

			</b:container>
		</h:body>
	</ui:define>

</ui:composition>
</html>