<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:b="http://bootsfaces.net/ui">

<ui:composition template="/template.xhtml">
	<ui:define name="title">
		<h:outputText value="DiseÃ±o Primer's"></h:outputText>
	</ui:define>
	<ui:define name="body">
		<h:body>
			<b:container>
				<h3>Primer's design for assembly dna fragments</h3>

				<h:form>
					<h:panelGrid columns="4" cellpadding="4">
						<h:outputLabel for="tm" value="TM value:" style="width:150px" />
						<p:inputText id="tm" value="#{primerG2.TM}" style="width:150px"
							required="true" requiredMessage="Ingrese valor TM"></p:inputText>

						<h:outputLabel for="sodio" value="Na concentration:"
							style="width:150px" />
						<p:inputText id="sodio" value="#{primerG2.sodio}"
							style="width:150px" required="true"
							requiredMessage="Ingrese valor sodio"></p:inputText>
					</h:panelGrid>
					<h:panelGrid columns="5" cellpadding="4">
						<h:outputLabel for="input1" value="Sequence name:"
							style="width:150px" />
						<p:inputText id="input1" value="#{primerG2.name}"
							style="width:150px" required="true"
							requiredMessage="Ingrese nombre de la secuencia"></p:inputText>

						<h:outputLabel for="input2" value="Sequence:" style="width:150px" />
						<p:inputTextarea id="input2" value="#{primerG2.sequence}"
							autoResize="false" rows="3" cols="35"
							onkeyup="javascript:this.value = this.value.toUpperCase();"
							style="width:150px" required="true"
							requiredMessage="Ingrese secuencia">
							<f:validator validatorId="custom.seqValidator" />
						</p:inputTextarea>


						<h:commandButton value="add" update="inputs"
							action="#{primerG2.add()}" />

					</h:panelGrid>
				</h:form>
				<h:form>
					<h:panelGrid cellpadding="2">

						<p:dataTable id="inputs" value="#{primerG2.sequences}" var="dato"
							resizableColumns="true" paginator="true" rows="5"
							style="margin-bottom:20px">
							<f:facet name="header">
                                Sequences
                            </f:facet>
							<p:column headerText="Sequence name">
								<h:outputText value="#{dato.name}"
									style="float:left;overflow-y: auto;width: 100%;" />
							</p:column>

							<p:column headerText="Sequence">
								<h:outputText value="#{dato.sequence}"
									style="float:left;overflow-y: auto;width: 100%;" />
							</p:column>

							<p:column headerText="Complement">
								<h:outputText value="#{dato.comp}"
									style="float:left;overflow-y: auto;width: 100%;" />
							</p:column>

							<p:column headerText="Forward">
								<h:outputText value="#{dato.fwd}"
									style="float:left;overflow-y: auto;width: 100%;" />
							</p:column>

							<p:column headerText="Reverse">
								<h:outputText value="#{dato.rev}"
									style="float:left;overflow-y: auto;width: 100%;" />
							</p:column>

							<p:column headerText="Forward ext">
								<h:outputText value="#{dato.fwd_ext}"
									style="float:left;overflow-y: auto;width: 100%;" />
							</p:column>

							<p:column headerText="Reverse ext">
								<h:outputText value="#{dato.rev_ext}"
									style="float:left;overflow-y: auto;width: 100%;" />
							</p:column>

							<p:column headerText="Action">
								<h:commandButton value="remove"
									action="#{primerG2.remove(dato)}" />
							</p:column>

						</p:dataTable>

					</h:panelGrid>
					<h:commandLink value="Download as xls">

						<p:dataExporter type="xls" target="inputs" fileName="Sequences"
							pageOnly="true" />
					</h:commandLink>
				</h:form>
				<h:form>

					<h:panelGrid columns="4" cellpadding="4">

						<p:commandButton value="Lineal Aligment"
							update="tabla, tabla2, tabla3, :growl"
							action="#{primerG2.lineal}" />
						<p:commandButton value="Circular Aligment"
							update="tabla, tabla2, tabla3, :growl"
							action="#{primerG2.circular}" />

					</h:panelGrid>

					<h:panelGrid cellpadding="2">
						<p:dataTable id="tabla" var="dato" resizableColumns="true"
							value="#{primerG2.primers_fwd}" paginator="true" rows="10"
							style="margin-bottom:20px">
							<f:facet name="header">
                                Fwd Sequence Primer's
                            </f:facet>
							<p:column headerText="Sequence name">
								<h:outputText value="#{dato.nameSequence}" />
							</p:column>

							<p:column headerText="Primer">
								<h:outputText value="#{dato.primer}"
									style="float:left;overflow-y: auto;width: 100%;" />
							</p:column>

							<p:column headerText="Length">
								<h:outputText value="#{dato.largo}" />
							</p:column>

							<p:column headerText="Tm">
								<h:outputText value="#{dato.tm}" />
							</p:column>

							<p:column headerText="%GC">
								<h:outputText value="#{dato.gc}" />
							</p:column>

							<p:column headerText="Tm adjust">
								<h:outputText value="#{dato.tmAdjust}" />
							</p:column>

							<p:column headerText="Molecular weight">
								<h:outputText value="#{dato.molWeight}" />
							</p:column>
						</p:dataTable>
						<h:commandLink value="Download as xls">

							<p:dataExporter type="xls" target="tabla" fileName="Primers_fwd"
								pageOnly="true" />
						</h:commandLink>
						<br />

						<p:dataTable id="tabla2" var="dato" resizableColumns="true"
							value="#{primerG2.primers_rev}" paginator="true" rows="10"
							style="margin-bottom:20px">
							<f:facet name="header">
                                Rev Sequence Primer's
                            </f:facet>
							<p:column headerText="Sequence name">
								<h:outputText value="#{dato.nameSequence}" />
							</p:column>

							<p:column headerText="Primer">
								<h:outputText value="#{dato.primer}"
									style="float:left;overflow-y: auto;width: 100%;" />
							</p:column>

							<p:column headerText="Length">
								<h:outputText value="#{dato.largo}" />
							</p:column>

							<p:column headerText="Tm">
								<h:outputText value="#{dato.tm}" />
							</p:column>

							<p:column headerText="%GC">
								<h:outputText value="#{dato.gc}" />
							</p:column>

							<p:column headerText="Tm adjust">
								<h:outputText value="#{dato.tmAdjust}" />
							</p:column>

							<p:column headerText="Molecular weight">
								<h:outputText value="#{dato.molWeight}" />
							</p:column>
						</p:dataTable>
						<h:commandLink value="Download as xls">

							<p:dataExporter type="xls" target="tabla2" fileName="Primers_rev"
								pageOnly="true" />
						</h:commandLink>
						<br />

						<p:dataTable id="tabla3" var="dato" resizableColumns="true"
							value="#{primerG2.homologys}" paginator="true" rows="10"
							style="margin-bottom:20px">
							<f:facet name="header">
                                Homology regions
                            </f:facet>
							<p:column headerText="Sequence name">
								<h:outputText value="#{dato.nameSequence}" />
							</p:column>

							<p:column headerText="Homology">
								<h:outputText value="#{dato.primer}"
									style="float:left;overflow-y: auto;width: 100%;" />
							</p:column>

							<p:column headerText="Length">
								<h:outputText value="#{dato.largo}" />
							</p:column>

							<p:column headerText="Tm">
								<h:outputText value="#{dato.tm}" />
							</p:column>

							<p:column headerText="%GC">
								<h:outputText value="#{dato.gc}" />
							</p:column>

							<p:column headerText="Tm adjust">
								<h:outputText value="#{dato.tmAdjust}" />
							</p:column>

							<p:column headerText="Molecular weight">
								<h:outputText value="#{dato.molWeight}" />
							</p:column>
						</p:dataTable>
						<h:commandLink value="Download as xls">

							<p:dataExporter type="xls" target="tabla2" fileName="Homology_regions"
								pageOnly="true" />
						</h:commandLink>
						<br />

					</h:panelGrid>
				</h:form>

			</b:container>
		</h:body>
	</ui:define>

</ui:composition>
</html>